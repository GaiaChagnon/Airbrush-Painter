# Golden test acceptance thresholds for CPU reference renderer
# Updated: 2025-10-31
# Purpose: Define strict validation criteria for pixel-perfect regression testing

schema: golden_thresholds.v1

# Image quality metrics (stricter than parity thresholds)
psnr_min: 28.0       # dB - Peak Signal-to-Noise Ratio (higher is better)
ssim_min: 0.92       # [0,1] - Structural Similarity Index (higher is better)
delta_e_max: 2.0     # ΔE2000 - Perceptual color difference (lower is better)
coverage_tol: 0.05   # ±5% - Relative tolerance for painted area fraction

# Notes:
# - PSNR ≥ 28 dB: Strict pixel-level match (allows minor quantization differences)
# - SSIM ≥ 0.92: High structural similarity (catches rendering artifacts)
# - ΔE2000 ≤ 2.0: Just-noticeable perceptual difference in color science
# - Coverage ±5%: Painted area fraction stable across LUT/kernel changes

# Test cases:
# 1. straight_line: Simple horizontal stroke (baseline)
# 2. curved_stroke: S-curve with varying z/v (geometric test)
# 3. multi_stroke: Three overlapping strokes (compositing test)
# 4. boundary_graze: Stroke near edge (clipping test)
# 5. tiny_stroke: Micro-stroke (anti-aliasing test)

# Regeneration instructions:
# To regenerate golden images (after intentional rendering changes):
#   pytest tests/test_cpu_golden.py  # First run generates images
#   git add ci/golden_tests_cpu/*.png
#   git commit -m "Update golden images for renderer v2.X"
